\setlength{\grammarindent}{\grammaxindent}
\begin{obeliskgrammar}
<\compilationUNDERSCOREunit{}> \gramdef{} \gramstar{\topUNDERSCOREdeclaration*{}}
                                          \EOF*{}

<\topUNDERSCOREdeclaration{}> \gramdef{} interface \ID*{} \LCBRACK*{}
                                         \gramplus{\iUNDERSCOREmemberUNDERSCOREdeclaration*{}}
                                         \RCBRACK*{}
  \grambar component \ID*{} \gramopt{\provideUNDERSCOREclause*{}}
           \gramopt{\useUNDERSCOREclause*{}} \LCBRACK*{}
           \gramplus{\cUNDERSCOREmemberUNDERSCOREdeclaration*{}} \RCBRACK*{}
  \grambar connect \link*{}
  \grambar connect \LCBRACK*{} \gramstar{\link*{}} \RCBRACK*{}

<\link{}> \gramdef{} \ID*{} \DOT*{} \ID*{} \CONN*{} \ID*{} \DOT*{} \ID*{}
                     \SEMICOLON*{}

<\iUNDERSCOREmemberUNDERSCOREdeclaration{}> \gramdef{} var
                                                       \varUNDERSCOREsign*{}
                                                       \SEMICOLON*{}
  \grambar \funUNDERSCOREprototype*{} \SEMICOLON*{}

<\provideUNDERSCOREclause{}> \gramdef{} provides
                                        \gramsepnelist{\COMMA*{}}{\ID*{}}

<\useUNDERSCOREclause{}> \gramdef{} uses \gramsepnelist{\COMMA*{}}{\ID*{}}

<\varUNDERSCOREsign{}> \gramdef{} \ID*{} \TYPESIG*{} \typeUNDERSCORE*{}

<\funUNDERSCOREprototype{}> \gramdef{} def \ID*{} \LRBRACK*{}
                                       \gramseplist{\COMMA*{}}{\varUNDERSCOREsign*{}}
                                       \RRBRACK*{} \gramopt*{\TYPESIG*{}
                                       \basicUNDERSCOREtype*{}}

<\cUNDERSCOREmemberUNDERSCOREdeclaration{}> \gramdef{} var
                                                       \varUNDERSCOREsign*{}
                                                       \SEMICOLON*{}
  \grambar \funUNDERSCOREdeclaration*{}

<\funUNDERSCOREdeclaration{}> \gramdef{} \funUNDERSCOREprototype*{} \block*{}

<\block{}> \gramdef{} \LCBRACK*{} \gramstar{\blockUNDERSCOREcontent*{}}
                      \RCBRACK*{}

<\blockUNDERSCOREcontent{}> \gramdef{} \stmt*{}
  \grambar var \varUNDERSCOREsign*{} \SEMICOLON*{}

<\typeUNDERSCORE{}> \gramdef{} \basicUNDERSCOREtype*{}
  \grambar \noUNDERSCOREmultidim*{} \LSBRACK*{} \RSBRACK*{}
  \grambar \noUNDERSCOREmultidim*{} \LSBRACK*{} \TUNDERSCOREINT*{}
           \RSBRACK*{}
  \grambar \REF*{} \basicUNDERSCOREtype*{}

<\noUNDERSCOREmultidim{}> \gramdef{} \basicUNDERSCOREtype*{}
  \grambar \REF*{} \basicUNDERSCOREtype*{}

<\basicUNDERSCOREtype{}> \gramdef{} int
  \grambar float
  \grambar char
  \grambar void
  \grambar bool

<\stmt{}> \gramdef{} return \gramopt{\expr*{}} \SEMICOLON*{}
  \grambar \gramopt{\expr*{}} \SEMICOLON*{}
  \grambar \block*{}
  \grambar while \LRBRACK*{} \expr*{} \RRBRACK*{} \stmt*{}
  \grambar if \LRBRACK*{} \expr*{} \RRBRACK*{} \stmt*{} else \stmt*{}
  \grambar if \LRBRACK*{} \expr*{} \RRBRACK*{} \stmt*{}
  \grambar for \LRBRACK*{} \gramopt{\expr*{}} \SEMICOLON*{}
           \gramopt{\expr*{}} \SEMICOLON*{} \gramopt{\expr*{}} \RRBRACK*{}
           \stmt*{}
  \grambar do \stmt*{} while \LRBRACK*{} \expr*{} \RRBRACK*{} \SEMICOLON*{}

<\expr{}> \gramdef{} \TUNDERSCOREINT*{}
  \grambar \TUNDERSCOREFLOAT*{}
  \grambar \TUNDERSCORECHAR*{}
  \grambar \TUNDERSCOREBOOL*{}
  \grambar \LRBRACK*{} \expr*{} \RRBRACK*{}
  \grambar \REF*{} \lUNDERSCOREvalue*{}
  \grambar \lUNDERSCOREvalue*{} \ASSIGN*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \PASSIGN*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \MINASSIGN*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \TASSIGN*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \DASSIGN*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \MODASSIGN*{} \expr*{}
  \grambar \NOT*{} \expr*{}
  \grambar \ID*{} \LRBRACK*{} \gramseplist{\COMMA*{}}{\expr*{}} \RRBRACK*{}
  \grambar \lUNDERSCOREvalue*{}
  \grambar \MINUS*{} \expr*{}
  \grambar \expr*{} \binUNDERSCOREop*{} \expr*{}
  \grambar \lUNDERSCOREvalue*{} \PLUSPLUS*{}
  \grambar \lUNDERSCOREvalue*{} \MINUSMINUS*{}
  \grambar \PLUSPLUS*{} \lUNDERSCOREvalue*{}
  \grambar \MINUSMINUS*{} \expr*{}

<\lUNDERSCOREvalue{}> \gramdef{} \ID*{}
  \grambar \ID*{} \LSBRACK*{} \expr*{} \RSBRACK*{}

<\binUNDERSCOREop{}> \gramdef{} \PLUS*{}
  \grambar \MINUS*{}
  \grambar \TIMES*{}
  \grambar \MOD*{}
  \grambar \DIV*{}
  \grambar \AND*{}
  \grambar \OR*{}
  \grambar \LESS*{}
  \grambar \GREATER*{}
  \grambar \LEQ*{}
  \grambar \GEQ*{}
  \grambar \EQUAL*{}
  \grambar \NEQ*{}

\end{obeliskgrammar}
